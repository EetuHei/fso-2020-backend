{"version":3,"sources":["components/phonebook/components/Filter.js","components/phonebook/components/Form.js","components/phonebook/components/Persons.js","components/phonebook/services/Index.js","components/phonebook/components/Notification.js","components/phonebook/index.js","index.js","components/phonebook/index.module.css"],"names":["Filter","filter","handleChange","value","onChange","e","Form","newName","number","handleNameChange","handleNumberChange","handleSubmit","onSubmit","type","Persons","persons","handleDelete","map","person","key","name","onClick","baseUrl","GetAll","a","axios","get","request","data","Create","newObject","post","Update","id","put","Delete","delete","req","Notification","message","className","Style","error","Phonebook","useState","setPersons","setNewName","setNumber","setFilter","errorMessage","setErrorMessage","useEffect","Services","then","res","console","log","length","newPersons","toLowerCase","includes","preventDefault","personObj","window","confirm","updatePerson","find","returenedPerson","concat","style","target","catch","setTimeout","updatePersons","p","App","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.92203f29.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ filter, handleChange }) => {\r\n  return (\r\n    <>\r\n      filter show with\r\n      <input\r\n        value={filter}\r\n        onChange={(e) => {\r\n          handleChange(e);\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst Form = ({\r\n  newName,\r\n  number,\r\n  handleNameChange,\r\n  handleNumberChange,\r\n  handleSubmit,\r\n}) => {\r\n  return (\r\n    <form\r\n      onSubmit={(e) => {\r\n        handleSubmit(e);\r\n      }}\r\n    >\r\n      <div>\r\n        name:{\" \"}\r\n        <input\r\n          value={newName}\r\n          onChange={(e) => {\r\n            handleNameChange(e);\r\n          }}\r\n        />\r\n        <div>\r\n          number:{\" \"}\r\n          <input\r\n            value={number}\r\n            onChange={(e) => {\r\n              handleNumberChange(e);\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import React from \"react\";\r\n\r\nconst Persons = ({ persons, handleDelete }) => {\r\n  return (\r\n    <>\r\n      {persons.map((person) => (\r\n        <p key={person.name}>\r\n          {person.name} {person.number}{\" \"}\r\n          <button onClick={() => handleDelete(person)}>Delete</button>\r\n        </p>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl = \"/api/v1/persons\";\r\n\r\nconst GetAll = async () => {\r\n  const request = await axios.get(baseUrl);\r\n  return request.data;\r\n};\r\n\r\nconst Create = async (newObject) => {\r\n  const request = await axios.post(`${baseUrl}/add`, newObject);\r\n  return request.data;\r\n};\r\n\r\nconst Update = async (id, newObject) => {\r\n  const request = await axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.data;\r\n};\r\n\r\nconst Delete = async (id) => {\r\n  const req = await axios.delete(`${baseUrl}/delete/${id}`);\r\n  return req.data;\r\n};\r\n\r\nexport default {\r\n  GetAll: GetAll,\r\n  Create: Create,\r\n  Update: Update,\r\n  Delete: Delete,\r\n};\r\n","import React from \"react\";\r\nimport Style from \"../index.module.css\";\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n\r\n  return <div className={Style.error}>{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Filter from \"./components/Filter\";\r\nimport Form from \"./components/Form\";\r\nimport Persons from \"./components/Persons\";\r\nimport Services from \"./services/Index\";\r\nimport Notification from \"./components/Notification\";\r\nimport Style from \"./index.module.css\";\r\n\r\nconst Phonebook = () => {\r\n  const [persons, setPersons] = useState(\"\");\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [number, setNumber] = useState();\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    Services.GetAll().then((res) => setPersons(res));\r\n  }, []);\r\n  console.log(\"render\", persons.length, \"notes\");\r\n\r\n  const handleNameChange = (e) => setNewName(e.target.value);\r\n  const handleNumberChange = (e) => setNumber(e.target.value);\r\n  const handleFilterChange = (e) => setFilter(e.target.value);\r\n\r\n  let newPersons = [...persons];\r\n  if (filter)\r\n    newPersons = newPersons.filter((person) =>\r\n      person.name.toLowerCase().includes(filter.toLowerCase())\r\n    );\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const personObj = {\r\n      name: newName,\r\n      number: number,\r\n    };\r\n\r\n    if (persons.map((person) => person.name).includes(newName)) {\r\n      if (\r\n        window.confirm(\r\n          `${newName} is already added to phonebook, replace the old number with a new one ?`\r\n        )\r\n      ) {\r\n        let updatePerson = persons.find((person) => person.name === newName);\r\n        updatePerson.number = number;\r\n        Services.Update(updatePerson.id, {\r\n          name: newName,\r\n          number: number,\r\n        });\r\n        setNewName(\"\");\r\n        setNumber(\"\");\r\n      }\r\n    } else {\r\n      Services.Create(personObj).then((returenedPerson) => {\r\n        setPersons(newPersons.concat(returenedPerson));\r\n        setNewName(\"\");\r\n        setNumber(\"\");\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleDelete = (person) => {\r\n    if (window.confirm(`Delete ${person.name} ?`)) {\r\n      Services.Delete(person.id)\r\n        .then((res) => console.log(\"Deleted\", res))\r\n        .catch((e) => {\r\n          if (e) {\r\n            setErrorMessage(\r\n              `${person.name} data has already been deleted from the server `\r\n            );\r\n            setTimeout(() => {\r\n              setErrorMessage(null);\r\n            }, 5000);\r\n            throw e;\r\n          }\r\n        });\r\n      const updatePersons = persons.filter((p) => p.id !== person.id);\r\n      setPersons(updatePersons);\r\n    } else {\r\n      setErrorMessage(`${person.name} was not deleted from phonebook`);\r\n      setTimeout(() => {\r\n        setErrorMessage(null);\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={errorMessage} style={Style} />\r\n      <Filter filter={filter} handleChange={handleFilterChange} />\r\n      <h3>add a new</h3>\r\n      <Form\r\n        newName={newName}\r\n        number={number}\r\n        handleNameChange={handleNameChange}\r\n        handleNumberChange={handleNumberChange}\r\n        handleSubmit={handleSubmit}\r\n      />\r\n      <h3>Numbers</h3>\r\n      <Persons persons={newPersons} handleDelete={handleDelete} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Phonebook;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport Phonebook from \"./components/phonebook/index\"\nimport Countries from \"./components/2.12-2.14/index\"\n\nconst App = () => {\n\n  return (\n    <>\n      {/* <CourseContents /> */}\n      <Phonebook  />\n      {/* <Countries /> */}\n    </>\n  );\n};\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"phonebook_error__362Vi\"};"],"sourceRoot":""}